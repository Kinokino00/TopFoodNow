<!DOCTYPE html>
<html lang="zh-TW" xmlns:th="http://www.thymeleaf.org" th:replace="~{layouts/layout :: layout(~{::head}, ~{::body/content}, ~{::body/scripts})}">
<head>
  <title>帳戶驗證</title>
</head>
<body>

<th:block th:fragment="content">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="verification-container">
        <h1 th:text="${message}">帳戶開通結果</h1>
        <p>頁面將在 <span id="countdown" class="countdown-timer">3</span> 秒後自動跳轉回首頁...</p>
        <p>如果沒有自動跳轉，請點擊這裡：<a th:href="@{/}" class="btn btn-link">返回首頁</a></p>
      </div>
    </div>
  </div>
</th:block>

<th:block th:fragment="scripts">
  <script>
        document.addEventListener('DOMContentLoaded', function() {
            const countdownElement = document.getElementById('countdown');
            let seconds = 3;

            function updateCountdown() {
                seconds--;
                if (countdownElement) {
                    countdownElement.textContent = seconds;
                }

                if (seconds <= 0) {
                    clearInterval(timer);
                    window.location.href = "/";
                }
            }
            let timer = setInterval(updateCountdown, 1000);
        });
    </script>
</th:block>

</body>
</html>